{% extends 'TooBigAppBundle::page-with-header.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <link href="/bundles/toobigapp/css/jquery-ui.css" rel="stylesheet">
    <link href="/bundles/toobigapp/css/jquery-ui.structure.css" rel="stylesheet">
    <link href="/bundles/toobigapp/css/jquery-ui.theme.css" rel="stylesheet">
{% endblock stylesheets %}

{# block page_header %}

    <div class="jumbotron">
        <div class="container">

            {% if filterForm is defined and filterForm %}
                {% block items_filter %}
                    {% form_theme filterForm 'TooBigAppBundle:Form:fields.html.twig' %}
                    <div id="ItemsFilter">
                        <form id="ItemsFilter_form" action="" method="get">
                            <div class="form-row">
                                <div class="col-sm-12 col filter-col">
                                {{ form_widget(filterForm.search) }}
                                <a class="btn btn-primary filter-form-submit">Поиск</a>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="col-sm-12 col filter-col">
                                        <span class="filter-result-params">Всего: </span><span>{{ count | default(0) }}</span>
                                    {# if rubricPriceRange['Min'] != '' and rubricPriceRange['Max'] != '' %}
                                        <span class="filter-result-params">Диапазон цен: </span><span>{{ rubricPriceRange['Min'] }}-{{ rubricPriceRange['Max'] }} руб.</span>
                                    {% endif #}

                                    {# if filter_params is defined %}
                                        {% set current=0 %}
                                        {% for choice in filterForm.brand.vars.choices %}
                                            {% if choice.value in filter_params['Brand'] %}
                                                {% if current == 0 %}
                                                    <span class="filter-result-params">Бренды: </span>
                                                    {% set current = 1 %}
                                                {% endif %}
                                                <span>{{ choice.label }} </span>
                                            {% endif %}
                                        {% endfor %}
                                        {% set current=0 %}
                                        {% for choice in filterForm.size.vars.choices %}
                                            {% if choice.value in filter_params['Size'] %}
                                                {% if current == 0 %}
                                                    <span class="filter-result-params">Размеры: </span>
                                                    {% set current = 1 %}
                                                {% endif %}
                                                <span>{{ choice.label }} </span>
                                            {% endif %}
                                        {% endfor %}
                                        {% set current=0 %}
                                        {% for choice in filterForm.color.vars.choices %}
                                            {% if choice.value in filter_params['Color'] %}
                                                {% if current == 0 %}
                                                    <span class="filter-result-params">Цвета: </span>
                                                    {% set current = 1 %}
                                                {% endif %}
                                                <div style="background-color: {{ choice.label }}" class="selected-color-box"></div>
                                            {% endif %}
                                        {% endfor %}
                                        {% set current=0 %}
                                        {% for choice in filterForm.gender.vars.choices %}
                                            {% if choice.value in filter_params['Gender'] %}
                                                {% if current == 0 %}
                                                    <span class="filter-result-params">Пол: </span>
                                                    {% set current = 1 %}
                                                {% endif %}
                                                <span>{{ choice.label }}</span>
                                            {% endif %}
                                        {% endfor %}
                                    {% endif %}
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="col-sm-1 col filter-col">
                                    <div class="filter-title"><span>Бренд<i class="glyphicon glyphicon-chevron-down"></i></span>
                                        <div class="filter-hidden">
                                            {{ form_widget(filterForm.brand, {'attr': {'class':'filter-form-item brand'}}) }}
                                            <div class="brand-submit">
                                                <input type="button" value="Применить" class="btn btn-primary filter-form-submit"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-1 col filter-col">
                                    <div class="filter-title"><span>Размер<i class="glyphicon glyphicon-chevron-down"></i></span>
                                        <div class="filter-hidden">
                                            {{ form_widget(filterForm.size, {'attr': {'class':'filter-form-item size'}}) }}
                                            <div class="size-submit">
                                                <input type="button" value="Применить" class="btn btn-primary filter-form-submit"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-1 col filter-col">
                                    <div class="filter-title"><span>Цвет<i class="glyphicon glyphicon-chevron-down"></i></span>
                                        <div class="filter-hidden">
                                            {{ form_widget(filterForm.color, {'attr': {'class':'filter-form-item color'}}) }}
                                            <div class="color-submit">
                                                <input type="button" value="Применить" class="btn btn-primary filter-form-submit"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-1 col filter-col">
                                    <div class="filter-title"><span>Пол<i class="glyphicon glyphicon-chevron-down"></i></span>
                                        <div class="filter-hidden">
                                            {{ form_widget(filterForm.gender, {'attr': {'class':'filter-form-item gender'}}) }}
                                            <div class="gender-submit">
                                                <input type="button" value="Применить" class="btn btn-primary filter-form-submit"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                {#<div class="col-sm-1 col filter-col">
                                    <div class="filter-title"><span>Цена<i class="glyphicon glyphicon-chevron-down"></i></span>
                                        <div class="filter-hidden">
                                            <div id="price-slider-ui"></div>
                                            <div class="price-slider-range">
                                                от {{ form_widget(filterForm.price_min, {'attr': {'class':'filter-form-item price-min'}}) }} до
                                                {{ form_widget(filterForm.price_max, {'attr': {'class':'filter-form-item price-max'}}) }} руб.
                                                <input id="rubric-price-min" type="hidden" value="{{ rubricPriceRange['Min'] }}"/>
                                                <input id="rubric-price-max" type="hidden" value="{{ rubricPriceRange['Max'] }}"/>
                                            </div>
                                            <div class="price-slider-submit">
                                                <input type="button" value="Применить" class="btn btn-primary filter-form-submit"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>#}
                                {#<div class="col-sm-7 col filter-col"></div>
                            </div>
                        </form>
                    </div>
                {% endblock items_filter %}
            {% endif %}

        </div>
    </div>

{% endblock page_header #}

{% if entities is defined and entities %}

    {% block page_body %}

        {% block entity_list%}

            {% for entity in entities %}

            {% if entity.enabled %}
                {% block entity_list_entry %}
                <div class="c-item">

                    {% block entity_list_entry_image  %}
                        <div class="item-img"><a href="{{ entitypath(entity) }}" target="_blank">
                            <img src="{% if entity.imagesMedia | length %}
                            {% path entity.imagesMedia[0].media, 'preview' %}
                        {% elseif (entity.blueimpImages is defined) and entity.blueimpImages | length %}
                            {{ '/uploads/attachments/' ~  entity.id ~ '/small/' ~ entity.blueimpImages[0].name }}
                        {% endif %}" class="img-polaroid">
                        </a></div>
                    {% endblock entity_list_entry_image  %}

                    {% block entity_list_entry_title  %}
                        <div class="item-title"><a href="{{ entitypath(entity) }}">{{ entity }}</a></div>
                    {% endblock entity_list_entry_title  %}

                    {% block entity_list_entry_brand  %}
                        <div class="item-feature item-title item-brand">
                            <span>{{ entity.brand | raw }}
                                {% if entity.model is defined and entity.model is not null %} / {{ entity.model | raw }}{% endif %}
                            </span>
                        </div>
                    {% endblock entity_list_entry_brand  %}

                    {% block entity_list_entry_announce  %}
                        <div class="item-announce">
                            {{ entity.abstract is defined ? entity.abstract | raw  : '' }}
                            {{ entity.description is defined ? entity.description | raw : '' }}
                            {{ entity.announce is defined ? entity.announce | raw : '' }}
                        </div>
                    {% endblock entity_list_entry_announce  %}

                    {% block entity_list_entry_size  %}
                    <div class="item-feature item-size">
                        {% if entity.size is defined and entity.size is not null %}
                            <span class="item-title">Размер</span>: <span class="item-size-value">{{ entity.size | raw }} {{ entity.sizeCountry | raw }}</span>
                        {% endif %}
                    </div>
                    {% endblock entity_list_entry_size  %}

                    {% block content_rate %}
                        {{ render(controller('TooBigAppBundle:Item:getItemRating', { 'item_id': entity.id })) }}
                    {% endblock content_rate %}

                    {% block entity_list_entry_price  %}
                        <div class="item-feature item-title item-price">
                            {{ entity.price is defined ? entity.price | raw : '0' }} руб.
                        </div>
                    {% endblock entity_list_entry_price  %}

                </div>
                {% endblock entity_list_entry%}
            {% endif %}

            {% endfor %}
        {% endblock entity_list%}


        {% block pagination %}
        {% include 'IphpCoreBundle::pagination.html.twig' with {'entities': entities} %}
        {% endblock pagination %}

    {% endblock page_body %}

{% endif%}

{% if entities is not defined %}

{% block content_body %}

    55555555
<div class="container-fluid oZ">
    <div class="row">
        <div class="col-md-12">

            <div class="bnr-pallete width-wrapper clearfix"><div class="bnr-pallete__item bnr-palleteii__item_v">
                    <style>
                        .ibanner3273828 {
                            width: 388px;
                            height: 797px;
                            transition: all .3s ease;
                            position: relative;
                            display: inline-block;
                            vertical-align: top;
                            margin-right: 21px;
                            overflow: hidden;
                            font-family: 'ProximaNova Light', sans-serif;
                            line-height: 1;
                            background-size: cover;
                        }
                        .ibanner3273828:hover .ibanner3273828__overlay {
                            opacity: .2;
                        }
                        .widescreen .ibanner3273828 {
                            width: 388px;
                            height: 797px;
                        }
                        .ibanner3273828__link {
                            text-decoration: none;
                            display: block;
                        }
                        .ibanner3273828__overlay {
                            position: absolute;
                            left: 0;
                            top: 0;
                            width: 100%;
                            height: 100%;
                            background-color: #333;
                            opacity: 0;
                            transition: opacity .3s ease;
                        }


                        .ibanner3273828__plate {
                            background-color: rgba(255, 255, 255, .95);
                            color: #333;
                            position: absolute;
                            left: 20px;
                            bottom: 20px;
                            right: 20px;
                            padding: 17px 10px 15px;
                            text-align: center;
                        }
                        .ibanner3273828__title {
                            font-family: 'ProximaNova Semibold', sans-serif;
                            font-size: 24px;
                            transition: font-size .3s ease;
                            margin-bottom: .3em;
                            position: relative;
                            top: 1px;
                        }
                        .ibanner3273828__subtitle {
                            font-size: 16px;
                            transition: font-size .3s ease;
                            position: relative;
                            top: -1px;
                        }

                        .widescreen .ibanner3273828__title {
                            font-size: 26px;
                        }
                        .widescreen .ibanner3273828__subtitle {
                            font-size: 18px;
                        }

                    </style>

                    <div class="ibanner3273828 js-ibanner-bg-image" style="background-image:url('//bs.lmcdn.ru/31104/tiz-t1.5784C0D1.jpg')" data-dy-unit="">
                        <a class="ibanner3273828__link" href="{{ rpath ('/odezhda/') }}">
                            <div class="ibanner3273828__overlay"></div>

                            <div class="ibanner3273828__plate">
                                <div class="ibanner3273828__title">Одежда</div>
                            </div>

                        </a>
                    </div></div><div class="bnr-pallete__item bnr-palleteii__item_sq">
                    <style>
                        .ibanner59755298 {
                            width: 388px;
                            height: 388px;
                            transition: all .3s ease;
                            position: relative;
                            display: inline-block;
                            vertical-align: top;
                            margin-bottom: 21px;
                            overflow: hidden;
                            font-family: 'ProximaNova Light', sans-serif;
                            line-height: 1;
                            background-size: cover;
                        }
                        .ibanner59755298__link {
                            text-decoration: none;
                            display: block;
                        }
                        .ibanner59755298__overlay {
                            position: absolute;
                            left: 0;
                            top: 0;
                            width: 100%;
                            height: 100%;
                            background-color: #333;
                            opacity: 0;
                            transition: opacity .3s ease;
                        }
                        .ibanner59755298__plate {
                            background-color: rgba(255, 255, 255, .95);
                            color: #333;
                            position: absolute;
                            left: 20px;
                            bottom: 20px;
                            right: 20px;
                            padding: 17px 10px 15px;
                            text-align: center;
                        }
                        .ibanner59755298__title {
                            font-family: 'ProximaNova Semibold', sans-serif;
                            font-size: 24px;
                            transition: font-size .3s ease;
                            margin-bottom: .3em;
                            position: relative;
                            top: 1px;
                        }
                        .ibanner59755298__subtitle {
                            font-size: 16px;
                            transition: font-size .3s ease;
                            position: relative;
                            top: -1px;
                        }
                        .widescreen .ibanner59755298 {
                            width: 388px;
                            height: 388px;
                        }
                        .widescreen .ibanner59755298__title {
                            font-size: 26px;
                        }
                        .widescreen .ibanner59755298__subtitle {
                            font-size: 18px;
                        }
                        .ibanner59755298:hover .ibanner59755298__overlay {
                            opacity: .2;
                        }
                    </style>

                    <div class="ibanner59755298 js-ibanner-bg-image" style="background-image:url('/uploads/media/default/0001/01/d139b060a3f3dfc66672da422e64b872889ad4c2.jpeg')" data-dy-unit="">
                        <a class="ibanner59755298__link" href="{{ rpath ('/obuv/') }}">
                            <div class="ibanner59755298__overlay"></div>

                            <div class="ibanner59755298__plate">
                                <div class="ibanner59755298__title">Обувь</div>
                            </div>

                        </a>
                    </div></div><div class="bnr-pallete__item bnr-palleteii__item_sq">
                    <style>
                        .ibanner1478759 {
                            width: 388px;
                            height: 388px;
                            transition: all .3s ease;
                            position: relative;
                            display: inline-block;
                            vertical-align: top;
                            margin-bottom: 21px;
                            overflow: hidden;
                            font-family: 'ProximaNova Light', sans-serif;
                            line-height: 1;
                            background-size: cover;
                        }
                        .ibanner1478759__link {
                            text-decoration: none;
                            display: block;
                        }
                        .ibanner1478759__overlay {
                            position: absolute;
                            left: 0;
                            top: 0;
                            width: 100%;
                            height: 100%;
                            background-color: #333;
                            opacity: 0;
                            transition: opacity .3s ease;
                        }
                        .ibanner1478759__plate {
                            background-color: rgba(255, 255, 255, .95);
                            color: #333;
                            position: absolute;
                            left: 20px;
                            bottom: 20px;
                            right: 20px;
                            padding: 17px 10px 15px;
                            text-align: center;
                        }
                        .ibanner1478759__title {
                            font-family: 'ProximaNova Semibold', sans-serif;
                            font-size: 24px;
                            transition: font-size .3s ease;
                            margin-bottom: .3em;
                            position: relative;
                            top: 1px;
                        }
                        .ibanner1478759__subtitle {
                            font-size: 16px;
                            transition: font-size .3s ease;
                            position: relative;
                            top: -1px;
                        }
                        .widescreen .ibanner1478759 {
                            width: 388px;
                            height: 388px;
                        }
                        .widescreen .ibanner1478759__title {
                            font-size: 26px;
                        }
                        .widescreen .ibanner1478759__subtitle {
                            font-size: 18px;
                        }
                        .ibanner1478759:hover .ibanner1478759__overlay {
                            opacity: .2;
                        }
                    </style>

                    <div class="ibanner1478759 js-ibanner-bg-image" style="background-image:url('/uploads/media/default/0001/01/9b3dbbddca6a02dfd0cc018fa9fa83cf73d931ce.jpeg')" data-dy-unit="">
                        <a class="ibanner1478759__link" href="{{ rpath('/kolyaski/') }}">
                            <div class="ibanner1478759__overlay"></div>

                            <div class="ibanner1478759__plate">

                                <div class="ibanner1478759__title">Коляски</div>


                                <div class="ibanner1478759__subtitle"></div>

                            </div>

                        </a>
                    </div></div><div class="bnr-pallete__item bnr-palleteii__item_h">
                    <style>
                        .ibanner29425334 {
                            height: 388px;
                            width: 797px;
                            transition: all .3s ease;
                            position: relative;
                            display: inline-block;
                            vertical-align: top;
                            margin-bottom: 21px;
                            overflow: hidden;
                            font-family: 'ProximaNova Light', sans-serif;
                            line-height: 1;
                            background-size: cover;
                        }
                        .ibanner29425334:hover .ibanner29425334__overlay {
                            opacity: .2;
                        }
                        .widescreen .ibanner29425334 {
                            height: 388px;
                            width: 797px;
                        }
                        .ibanner29425334__plate {
                            background-color: rgba(255, 255, 255, .95);
                            color: #333;
                            position: absolute;
                            left: 20px;
                            bottom: 20px;
                            right: 20px;
                            padding: 17px 10px 15px;
                            text-align: center;
                        }
                        .ibanner29425334__link {
                            text-decoration: none;
                            display: block;
                        }
                        .ibanner29425334__overlay {
                            position: absolute;
                            left: 0;
                            top: 0;
                            width: 100%;
                            height: 100%;
                            background-color: #333;
                            opacity: 0;
                            transition: opacity .3s ease;
                        }
                        .ibanner29425334__title {
                            font-family: 'ProximaNova Semibold', sans-serif;
                            font-size: 24px;
                            transition: font-size .3s ease;
                            margin-bottom: .3em;
                            position: relative;
                            top: 1px;
                        }

                    </style>

                    <div class="ibanner29425334 js-ibanner-bg-image" style="background-image:url('/uploads/media/default/0001/01/121fd8405773c80d1c51694a0de9c0c86a980c44.jpeg')" data-dy-unit="">
                        <a class="ibanner29425334__link" href="{{ rpath('/sportivnye-tovary/') }}">
                            <div class="ibanner29425334__overlay"></div>
                            <div class="ibanner29425334__plate">
                                <div class="ibanner29425334__title">Для занятий спортом</div>
                            </div>
                        </a>
                    </div></div></div>

        </div>
    </div>
</div>

{% endblock content_body %}

{% endif%}
